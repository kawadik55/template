parserEg.js - скрипт парсера Ежика на сегодня.
При запуске скрипт парсит официальный сайт https://na-russia.org, выделяет текст Ежика на сегодня и сохраняет его
в форматах html и markdown. Эти файлы затем могут быть использованы различными службами.
Пути и имена файлов загружаются из файла paths.json. При его отсутствии он будет создан.
Ключи объекта в файле:
"DirEg" - массив путей к директориям, относительно корневой директории;
"FileEgHtml" - имя файла в формате html;
"FileEgMD" - имя файла в формате markdown;

Перед запуском скрипта parserEg.js необходимо заполнить объект в файле paths.json своими путями и именами, если нужно.
Запустить парсер можно и в Докере, читать файл Docker.txt
Готовый образ для Докера "kawadiyk/parserEg:latest" можно загрузить из DockerHub.
//-----------------------------------------------------------------------------------
Запуск контейнера в докере является самым простым способом запуска парсера, если, конечно, пакет докера
уже установлен в системе. Установка докера подробно описана в файле Docker.txt в папке Doc репозитория.
Для того, чтобы развернуть бота в системе, нужно всего лишь создать нужные папки и запустить контейнер бота.
Итак:
1. В домашней папке пользователя (например: /home/anton, в дальнейшем будем звать ее ДОМ) нужно создать основную папку
местности, например Minsk (в дальнейшем будем звать ее РЕГИОН), а внутри нее создать папку для этого скрипта ParserEg,
или с любым другим именем (в дальнейшем будем звать ее БОТ). Тогда полный путь к скрипту будет выглядеть так:
ДОМ/РЕГИОН/БОТ
а если в расшифрованном виде, то:
/home/anton/Minsk/ParserEg
Права записи в эти папки лучше открыть для всех, чтоб не было проблем при записи логов из системы.
Папка скрипта БОТ должна иметь уникальное имя, отличное от других папок с ботами в этой местности.

2. Теперь запустим контейнер, и он сохранит файлы Ежика на сегодня в указанные ранее места:

docker run --rm --name name_bot -v ДОМ/РЕГИОН:/home/pi/РЕГИОН:rw -t -e "CURRENT_DIR=/home/pi/РЕГИОН/БОТ" kawadiyk/parsereg ./parserEg

где имя контейнера 'name_bot' можно заменить на любое другое, лишь бы самому понятно было, что это за контейнер.
Например: parsereg, и т.п.
Само собой, ДОМ, РЕГИОН и БОТ нужно заменить на свои пути и директории, о которых мы договорились выше.
Отработав и создав файлы, контейнер самоудалится.
Если предполагается запускать контейнер из crontab'a (что логично), то команду запуска можно дополнить выводом
состояний в лог-файл:

05,15 00 * * * docker run --rm --name name_bot -v ДОМ/РЕГИОН:/home/pi/РЕГИОН:rw -t -e "CURRENT_DIR=/home/pi/РЕГИОН/БОТ" kawadiyk/parsereg ./parserEg >> ДОМ/РЕГИОН/log/cronlog.log  2>&1

Вот и все, что нужно сделать для запуска бота в докер-контейнере!
//-----------------------------------------------------------------------------------
Удачи вам!
