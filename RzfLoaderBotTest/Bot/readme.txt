Этот бот сделан на основе FullLoaderBot с некоторыми расширениями. Теперь вспомогательный бот-публикатор, который
нужно было добавить в канал/группу/чат, стал интерактивным. При добавлении (или по команде /config) бот попросит
выбрать часовой пояс, и предложит выбрать желаемый контент - Ежедневник, Новости и Расписание. Эти настройки сохранятся
в файле chatId.json и при рассылке будут учитываться основным ботом-загрузчиком. Важно то, что посты будут приходить
адресатам по местному времени. Т.е. запланированный на 18:30 пост выйдет именно в это время и на Камчатке, и в Калининграде.
Для включения/выключения интерактивной настройки бота на канал/группу/личный чат предназначено поле в файле config.json:
"slavebot":true. Если его выключить (false), то все настройки на канал/группу/личный чат админу нужно будет прописывать
вручную, как это и было в FullLoaderBot, где бот-публикатор запускается без поллинга. Т.е. при выключенном slavebot
будет работать как FullLoaderBot, только с часовыми поясами (настроенными руками админа).

Тут находятся файлы бота-загрузчика контента для автоматической публикации в каналах/группах новостей.
Бот-загрузчик помогает авторизованному пользователю загрузить форматированное текстовое сообщение или картинку (видео, документ, альбом), и выбрать необходимую
периодичность публикаций загруженного материала. Периодичность может быть выбрана из: ежедневно, по дням недели, по дате наступления события.
Выбор 'по Дню Недели' подразумевает публикацию только в этот день недели, вплоть до указанной даты.
Выбор 'по Дате' подразумевает, что дата события может быть сколь угодно далека или близка, но публиковаться будет в некоторые дни
до наступления события, до этого - 1 раз в неделю.
Также, при необходимости, можно установить определенное время публикации, если стандартное в timePablic чем-то не устраивает.
Списки чатов в chatId.json теперь могут быть привязаны к желаемой временной зоне, перевода timePablic в местное время для Ежедневника и Расписаний.
Загруженный контент попадает на модерацию к Админу бота, затем оформляется к публикации ботом slavebot, 
который публикует нужное в канал/группу/личный чат.
По истечении срока записи удаляются автоматически.
Доступ к боту разрешает Админ бота по запросу пользователя, допущенные пользователи сохраняются в файле UserList.txt.
Для публикации постов используется бот, прописанный в news_bot.json. Этот бот нужно добавить в канал/группу/личный чат. При добавлении (или в любое время) нужно/можно настроить бот на часовой пояс и выбрать желаемый контент.

Служебные файлы:
- /images - папка для хранения загруженных картинок.
- /moder - папка для ожидающих модерацию картинок.
- /Token - папка с токенами ботов.
- config.json - файл настроек бота.
- chatId.json - файл списка чатов.
- AdminBot.txt - список Админов бота (chat_id).
- AdminList.txt - массив административных констант - chat_id супервизора, chat_id координатора whatsup(если нужен).
- BlackList.txt - список забаненных пользователей, очищается руками.
- ImagesList.txt - список загруженных картинок. Запись имеет маркер периодичности, по которому может быть удалена автоматически.
- LastMessId.txt - список последних messId пользователей для возможности удаления предыдущих сообщений с кнопками, чтобы не засорять чат.
- TextList.txt - массив загруженных текстов.
- UserList.txt - список допущенных пользователей.
- buttons.txt - файл с объектом кнопок со ссылками, которые будут размещены под постом с расписанием собраний. Можно оставить пустым, если кнопки не нужны.

Файл настроек config.json содержит поля:
"area" - название местности.
"timePablic" - время публикации постов, по которому скрипт определяет, была ли уже сегодня публикация, или нет.
"forDate" - массив дней для режима публикаций 'по Дате'. Например, [3,2,0] означает, что пост будет публиковаться
в 3-й, 2-й и 0-й день до наступления события, до этого - 1 раз в неделю.
"lifeTime" - срок действия регистрации юзера в днях, потом юзер удаляется из базы.
"rassilka" - выключатель внутренней функции рассылки, для использования внешнего скрипта рассылки.
"hostingImg" - выключатель хостинга картинок на этом хосте, если настроен конечно.
"pathHostingImg" - относительный путь к папке картинок с доступом для веб-сервера.
"hostname" - внешнее имя этого хоста.
Хостинг картинок можно использовать ТОЛЬКО, если админ понимает, что делает. После загрузки картинки бот выдает прямую ссылку на эту картинку. Должен работать веб-сервер на хосте.
"utcOffset" - смещение временной зоны в минутах. Например, для Екб таймзона = +5ч от UTC, в минутах = "+300".
Если оставить этот параметр пустым, то установится зона МСК по-умолчанию.
"Supervisor" - chatId Супервизора.
"queuelimit" - лимит очереди рассылки, число.
"slavebot" - true/false, выключатель поллинга у бота из news_bot.json. Если включить, то любой и каждый сможет добавить и настроить бота в своем канале/группе на получение контента. Если выключить, то список каналов/групп админ должен прописать руками в chatId.json, и ни в каких других чатах бот публиковать не будет.
"News" - true/false, общий выключатель рассылки загруженных Постов. Например, только Ежик и Расписание.
"Eg" - true/false, общий выключатель рассылки Ежедневников.
"Raspis" - true/false, общий выключатель рассылки Расписания.
"FileEg" - относительный путь к файлам Ежедневника, может быть пустым.
"FileRaspis" - относительный путь к файлам Расписания, может быть пустым.
"UrlSupport" - ссылка на чат поддержки, вставляется в кнопку Вопросы.

Админу бота доступны дополнительные меню с кнопками, для модерации/удаления постов, добавления/удаления пользователей
и пр.

Перед запуском скрипта rzf_loader_bot.js необходимо заполнить файлы AdminList.txt и файлы токенов используемых ботов 
в директории /Token. 
Имена файлов токенов должны быть loader_bot.json, logs_bot.json и news_bot.json.
logs_bot.json - бот для важных системных сообщений Супервизору. Если не нужно, то можно удалить или оставить пустым.

Готовый образ для Докера "kawadiyk/rzfloaderbot:latest" можно загрузить из DockerHub.
//-----------------------------------------------------------------------------------
Запуск контейнера в докере является самым простым способом разворота этого бота в системе, если, конечно, пакет докера
уже установлен в системе. Установка докера подробно описана в файле Docker.txt в папке Doc репозитория.
Для того, чтобы развернуть бота в системе, нужно всего лишь создать нужные папки и запустить контейнер бота.
Итак:
1. В домашней папке пользователя (например: /home/anton, в дальнейшем будем звать ее ДОМ) нужно создать основную папку
местности, например Minsk (в дальнейшем будем звать ее РЕГИОН), а внутри нее создать папку для этого бота, 
например LoaderBot (в дальнейшем будем звать ее БОТ). Тогда полный путь к боту будет выглядеть так:
ДОМ/РЕГИОН/БОТ
а если в расшифрованном виде, то:
/home/anton/Minsk/LoaderBot
Папка бота БОТ должна иметь уникальное имя, отличное от других папок с ботами в этой местности.

2. Теперь запустим контейнер с ботом, и он сам развернет в созданных папках все необходимые для своей работы файлы:

docker run --name name_bot -v ДОМ/РЕГИОН:/home/pi/РЕГИОН:rw --restart=unless-stopped -d -e "CURRENT_DIR=/home/pi/РЕГИОН/БОТ" --user "$(id -u):$(id -g)" kawadiyk/rzfloaderbot:latest ./rzf_loader_bot
и следом остановить контейнер командой:
docker stop name_bot

где имя контейнера 'name_bot' можно заменить на любое другое, лишь бы самому понятно было, что это за бот.
Например: arch_bot, loader_bot, info_bot, и т.д.
Само собой, ДОМ, РЕГИОН и БОТ нужно заменить на свои пути и директории, о которых мы договорились выше.
После первого запуска бот еще не будет работать, ибо нужно заполнить вновь созданные (или уже имеющиеся, но дополненные)
файлы, согласно вышеописанным требованиям для этого бота.

3. После заполнения файлов токенами, именами и прочими настройками, нужно перезапустить контейнер командой:

docker restart name_bot

где name_bot нужно заменить на имя вашего контейнера, о чем говорилось выше.
После этого бот должен полноценно заработать.
Вот и все, что нужно сделать для запуска бота в докер-контейнере!

Удачи вам!
